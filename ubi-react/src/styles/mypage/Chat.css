/* ── 컬러 팔레트 ───────────────────────── */
:root{
  --y-main:#FFE56D;          /* 진한 노랑 – 탭 선택 / 방목록 / 말풍선 */
  --y-light:#fff9db;         /* 연노랑 – 탭바 배경 */
  --blue:#0d47a1;            /* 포인트 파랑 (전송 화살표) */
  --danger:#d32f2f;          /* 안읽음 뱃지 */
  --radius:12px;
  --shadow:0 2px 6px rgba(0,0,0,.05);
  --ts:.2s ease;
  --font:"Pretendard",sans-serif;
}

/* ── 레이아웃 ──────────────────────────── */
.chat-wrapper{
  display:flex;
  height:calc(100vh - 60px);   /* 헤더 60px 가정 */
  font-family:var(--font);
  background:#fff;
}

/* ── ① 왼쪽 방목록 ‑ 전체 노랑 ─────────── */
.chat-room-list{
  width:240px;
  background:var(--y-main);
  overflow-y:auto;
}

/* 방 아이템 */
.chat-room-item{
  display:flex;align-items:center;gap:10px;
  padding:12px 16px;
  cursor:pointer;transition:var(--ts);
}
.chat-room-item:hover,
.chat-room-item.selected{background:rgba(0,0,0,.05);}
.room-profile{width:40px;height:40px;border-radius:50%;object-fit:cover;box-shadow:var(--shadow);}
.room-info{flex:1;min-width:0;}
.room-name{font-weight:600;}
.room-last-message{font-size:.82rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.room-meta{display:flex;flex-direction:column;align-items:flex-end;font-size:.72rem;}
.room-unread{background:var(--danger);color:#fff;padding:2px 6px;border-radius:12px;margin-top:3px;}

/* ── ② 오른쪽 채팅창 ──────────────────── */
.chat-container{flex:1;display:flex;flex-direction:column;}

/* 상단 탭바 */
.chat-topbar{
  display:flex;align-items:center;
  background:var(--y-light);
  border-radius:var(--radius) var(--radius) 0 0;
  overflow:hidden;
}
.chat-topbar .tab{
  flex:1;text-align:center;padding:10px 0;font-weight:600;cursor:pointer;
}
.chat-topbar .tab.active{background:var(--y-main);}
.chat-topbar .leave-btn{
  flex:0 0 110px;
  font-size:.78rem;border:none;cursor:pointer;
  background:#fff;border-left:1px solid #eee;height:100%;
}
.chat-topbar .leave-btn:hover{background:#f4f4f4;}

/* 메시지 영역 */
.chat-messages{
  flex:1;padding:20px 24px 32px;display:flex;flex-direction:column;gap:20px;overflow-y:auto;
}

/* 말풍선 – 꼬리 없음 */
.chat-message{
  max-width:70%;padding:12px 16px;border-radius:var(--radius);
  background:var(--y-main);color:#000;word-break:break-word;
}
/* 상대·내 메시지 구분: 위치만 다름 */
.my-message{align-self:flex-end;}
.other-message{align-self:flex-start;}

/* 시간·삭제 */
.message-timestamp{font-size:.72rem;color:#666;margin-top:4px;text-align:right;}
.delete-button{border:none;background:none;margin-left:6px;cursor:pointer;opacity:.7;}
.delete-button:hover{opacity:1;}

/* 입력창 */
.chat-input{
  display:flex;align-items:center;gap:6px;padding:12px 0;border-top:1px solid #ddd;
}
.chat-input input{
  flex:1;padding:10px 14px;border:1px solid #ccc;border-radius:var(--radius);
}
.chat-input button{
  width:44px;height:44px;border:none;cursor:pointer;border-radius:var(--radius);
  background:var(--blue) url("/icon-arrow-right.svg") center/18px no-repeat;
}
.chat-input button:hover{filter:brightness(.9);}

/* 스크롤바 최소 커스텀 */
.chat-room-list::-webkit-scrollbar,
.chat-messages::-webkit-scrollbar{width:6px;}
.chat-room-list::-webkit-scrollbar-thumb,
.chat-messages::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px;}

/* ▣ 1‑1. 말풍선 라인 래퍼 ---------------------------------- */
.chat-line{
  display:flex;
  align-items:flex-end;        /* 아바타와 수직 정렬 */
  gap:8px;                     /* 아바타 ↔ 말풍선 간격 */
}

/* ▣ 1‑2. 아바타 ------------------------------------------ */
.chat-line .avatar{
  width:36px; height:36px;
  border-radius:50%;
  object-fit:cover;
  box-shadow:var(--shadow);
}

/* ▣ 1‑3. 내 메시지는 오른쪽 정렬 --------------------------- */
.chat-line.my{
  justify-content:flex-end;
}
.chat-line.my .avatar{display:none;}   /* 내 쪽은 아바타 숨김 */

/* ▣ 1‑4. 말풍선 내부 여백·꼬리 제거 & 그림자 --------------- */
.chat-message{
  padding:12px 16px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.my-message{background:var(--y-main);color:#000;}
.other-message{background:#fff;color:#000;}

/* ▣ 1‑5. 타임스탬프를 말풍선 우측 아래에 붙이기 ----------- */
.message-timestamp{
  font-size:.72rem;color:#666;
  text-align:right;margin-top:4px;
}

/* ▣ 1‑6. 왼쪽 목록 상단에 검색 입력 스타일 --------------- */
.chat-search-top{
  padding:12px 14px;
  background:#fff;
  border-bottom:1px solid #e0e0e0;
}
.chat-search-top input{
  width:100%;height:34px;
  padding:0 12px;border:1px solid #ccc;
  border-radius:var(--radius);font-size:.85rem;
}

/* 발신자 닉네임 (상대 메시지 위) */
.sender-name{
  margin-left:44px;          /* 아바타(36) + 간격(8) */
  font-size:.8rem;
  font-weight:600;
  color:#0d47a1;            /* 포인트 남색 */
  margin-bottom:2px;
}
