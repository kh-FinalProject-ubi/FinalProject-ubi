import React from "react";
import styles from "../styles/TermsAndPrivacyModal.module.css";
import ReactMarkdown from "react-markdown";

const TermsAndPrivacyModal = ({ open, onClose, view }) => {
  if (!open) return null;

  const termsContent = `### 제1조 (목적)

이 약관은 우비(UBI, 이하 \"회사\")가 제공하는 지역별 혜택 정보 비교 및 관련 서비스(이하 \"서비스\")의 이용과 관련하여 회사와 이용자 간의 권리, 의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.

---

### 제2조 (정의)

**"회사"**란 "UBI"라는 이름으로 지역별 혜택 비교 및 정보 제공 서비스를 운영하는 주체를 말합니다.  
**"이용자"**란 이 약관에 따라 회사가 제공하는 서비스를 이용하는 자를 말합니다.  
**"콘텐츠"**란 회사가 서비스를 통해 제공하거나 이용자가 서비스 내에서 게시한 텍스트, 이미지, 링크, 정보 등을 의미합니다.  
**"혜택 정보"**란 국가 및 지자체, 공공기관 등에서 제공하는 각종 지원제도, 복지혜택, 정책 등을 말합니다.

---

### 제3조 (약관의 효력 및 변경)

이 약관은 서비스 화면에 게시하거나 기타의 방법으로 이용자에게 공지함으로써 효력을 발생합니다.  
회사는 필요한 경우 관련 법령을 위배하지 않는 범위에서 이 약관을 개정할 수 있으며, 변경된 약관은 제1항과 같은 방법으로 공지합니다.  
이용자가 변경된 약관에 동의하지 않을 경우 서비스 이용을 중단하고 탈퇴할 수 있습니다. 변경된 약관의 효력 발생 이후에도 서비스를 계속 사용할 경우 변경사항에 동의한 것으로 간주합니다.

---

### 제4조 (서비스의 제공)

회사는 다음과 같은 서비스를 제공합니다:
- 지역별 혜택 정보 검색 및 비교 서비스
- 혜택 정보 요약 및 신청 방법 안내
- 즐겨찾기 및 개인화 기능 (회원의 경우)
- 기타 회사가 정하는 서비스

회사는 시스템 점검, 장애, 서비스 개편 등 부득이한 경우 서비스를 일시 중단할 수 있습니다.

---

### 제5조 (이용자의 의무)

이용자는 다음 행위를 하여서는 안 됩니다:
- 허위 정보의 입력 또는 타인의 정보 도용
- 서비스에 게시된 정보의 무단 복제, 유통, 상업적 이용
- 회사 또는 제3자의 저작권 등 권리를 침해하는 행위
- 서비스의 정상적인 운영을 방해하는 행위

---

### 제6조 (개인정보 보호)

회사는 「개인정보 보호법」 등 관련 법령에 따라 이용자의 개인정보를 보호하며, 개인정보의 수집·이용·처리에 관한 사항은 별도의 [개인정보처리방침]에 따릅니다.

---

### 제7조 (지적재산권)

회사가 작성한 콘텐츠 및 저작물에 대한 권리는 회사에 귀속됩니다.  
이용자가 서비스 내에 게시한 콘텐츠는 이용자 본인이 권리를 보유하나, 회사는 서비스 운영 및 홍보 목적으로 비상업적으로 이를 사용할 수 있습니다.

---

### 제8조 (책임의 제한)

회사는 공공기관으로부터 제공받는 정보를 기반으로 서비스를 제공하며, 정보의 정확성, 완전성, 최신성에 대해 보증하지 않습니다.  
회사는 이용자가 서비스를 통해 기대하는 수익, 혜택 등을 보장하지 않으며, 이로 인한 손해에 대해서도 책임을 지지 않습니다.  
회사는 이용자의 귀책사유로 인한 서비스 이용 장애에 대하여 책임을 지지 않습니다.

---

### 제9조 (서비스 해지 및 이용제한)

이용자는 언제든지 서비스 이용을 중단하고 탈퇴할 수 있습니다.  
회사는 이용자가 본 약관을 위반할 경우 사전 통지 없이 서비스 이용을 제한하거나 회원 자격을 박탈할 수 있습니다.

---

### 제10조 (준거법 및 재판관할)

이 약관은 대한민국 법률에 따라 해석되며, 회사와 이용자 간 분쟁에 대하여는 회사의 본사 소재지를 관할하는 법원을 제1심 관할법원으로 합니다.
`;

  const privacyContent = `
# 우비(UBI) 개인정보 처리방침

우비(UBI)(이하 “회사”)는 이용자의 개인정보를 소중하게 생각하며, 「개인정보 보호법」을 비롯한 관련 법령을 준수하고 있습니다.  
본 개인정보 처리방침은 회사가 어떤 정보를 수집하고, 어떻게 이용하며, 이용자의 권리를 어떻게 보호하는지를 설명합니다.

---

## 제1조 (개인정보의 수집 항목 및 수집 방법)

회사는 다음과 같은 방법으로 개인정보를 수집합니다:

1. **회원 가입 및 서비스 이용 시**  
   - 필수항목: 이름, 이메일 주소, 비밀번호  
   - 선택항목: 생년월일, 성별, 거주 지역  
2. **서비스 이용 과정에서 자동으로 생성·수집되는 정보**  
   - IP 주소, 쿠키, 서비스 이용 기록, 브라우저 종류, 접속 일시, 기기정보 등  
3. **고객 문의, 이벤트 참여 등**  
   - 이름, 이메일, 전화번호, 문의 내용, 기타 사용자가 입력한 정보  
4. **비회원 이용자의 경우**  
   - 서비스 조회 기록, 접속 정보 등 서비스 이용을 위한 최소한의 정보만 수집

---

## 제2조 (개인정보의 수집 및 이용 목적)

수집한 개인정보는 다음의 목적을 위해 이용됩니다:

- 회원가입 및 본인 확인  
- 지역별 혜택 맞춤 정보 제공  
- 민원 및 고객상담 대응  
- 부정 이용 방지 및 보안 강화  
- 서비스 개선, 통계 및 분석  
- 이벤트 운영 및 마케팅 (이용자 동의 시)  
- 비회원 사용자의 이용 편의 향상

---

## 제3조 (개인정보의 보유 및 이용 기간)

회사는 개인정보 수집 및 이용 목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다.  
다만, 관련 법령에 따라 일정 기간 보관이 필요한 경우에는 그에 따릅니다.

| 항목 | 보관 기간 | 보관 근거 |
|------|-----------|-----------|
| 회원 정보(이메일 등) | 탈퇴 후 7일 이내 파기 | 내부 정책 |
| 문의 및 고객지원 기록 | 3년 | 소비자기본법 |
| 접속 로그, IP 등 | 3개월 | 통신비밀보호법 |

---

## 제4조 (개인정보의 제3자 제공)

회사는 이용자의 개인정보를 외부에 제공하지 않으며, 다음의 경우에만 제공할 수 있습니다:

- 이용자의 사전 동의를 받은 경우  
- 법령에 따라 제공이 요구되는 경우  
- 통계, 학술연구, 시장조사를 위해 특정 개인을 식별할 수 없는 형태로 제공하는 경우

---

## 제5조 (개인정보의 처리 위탁)

회사는 원활한 서비스 제공을 위해 아래와 같이 개인정보 처리 업무를 위탁할 수 있습니다:

| 수탁업체 | 위탁업무 내용 | 보유 및 이용 기간 |
|----------|----------------|-------------------|
| Amazon Web Services | 인프라 및 데이터 보관 | 계약 종료 시까지 |
| Google Analytics | 이용자 행동 분석 | 익명 통계 기반, 개별 식별 불가 |

※ 회사는 수탁자와의 계약을 통해 개인정보 보호 의무를 명확히 규정하고 있습니다.

---

## 제6조 (쿠키(Cookie)의 수집 및 사용)

회사는 웹사이트 운영에 필요한 쿠키를 사용할 수 있습니다.

- **쿠키란**: 이용자의 브라우저에 저장되는 소량의 정보로, 서비스 최적화에 활용됩니다.  
- **이용 목적**: 접속 유지, 이용자 선호 저장, 통계 분석 등  
- **차단 방법**: 브라우저 설정을 통해 쿠키 저장을 거부하거나 삭제할 수 있습니다.  
  (예: Chrome 기준: 설정 > 개인정보 및 보안 > 쿠키 및 기타 사이트 데이터)

※ 쿠키를 차단할 경우 일부 서비스 이용에 제한이 있을 수 있습니다.

---

## 제7조 (이용자의 권리와 행사 방법)

이용자는 언제든지 다음과 같은 권리를 행사할 수 있습니다:

- 개인정보 조회 및 열람  
- 개인정보 정정 및 삭제 요청  
- 처리 정지 요청  
- 회원 탈퇴 및 개인정보 파기 요청  

**행사 방법**:  
[문의하기] 기능 또는 이메일 (support@ubi.co.kr)을 통해 요청  
법정대리인을 통한 대리 요청도 가능 (신분증 사본 제출 필요)

---

## 제8조 (만 14세 미만 아동의 개인정보 처리)

회사는 원칙적으로 만 14세 미만 아동의 개인정보를 수집하지 않습니다.  
만약 수집이 필요한 경우에는 법정대리인의 동의를 필수로 받고, 관련 법령에 따라 안전하게 보호합니다.

---

## 제9조 (개인정보의 파기 절차 및 방법)

회사는 개인정보 보유기간 경과 또는 처리 목적 달성 시 지체 없이 해당 정보를 파기합니다.

- 전자적 파일: 복구 불가능한 기술적 방법으로 완전 삭제  
- 종이 문서: 분쇄하거나 소각  
- 파기 대상: 회원 정보, 비회원 문의 내역 등 보관기간 만료 정보

---

## 제10조 (개인정보의 안전성 확보 조치)

회사는 개인정보 보호를 위해 다음과 같은 조치를 시행하고 있습니다:

- 개인정보 암호화 저장  
- 접근 권한 최소화 및 내부 직원 교육  
- 백신 및 보안 프로그램 운영  
- 침해사고 대비 이중 백업 및 서버 방화벽 설정

---

## 제11조 (개인정보 보호책임자 및 문의처)

회사는 개인정보 보호에 관한 업무를 총괄하는 책임자를 두고 있으며, 이용자의 문의에 신속하고 성실하게 대응합니다.

- 개인정보 보호책임자: 홍길동  
- 연락처: support@ubi.co.kr  
- 문의 방법: [UBI 고객센터] 또는 ‘문의하기’ 메뉴를 통해 접수

---

## 제12조 (권익침해에 대한 구제방법)

이용자는 아래 기관에 개인정보 침해에 대한 상담 및 분쟁 조정을 요청할 수 있습니다:

- 개인정보침해 신고센터: privacy.kisa.or.kr / 국번없이 118  
- 개인정보 분쟁조정위원회: kopico.go.kr / 1833-6972  
- 대검찰청 사이버수사과: spo.go.kr / 국번없이 1301  
- 경찰청 사이버수사국: cyber.go.kr / 국번없이 182

---

## 제13조 (개인정보 처리방침 변경에 대한 고지)

본 개인정보 처리방침은 관련 법령 및 정책 변경에 따라 사전 공지 후 개정될 수 있습니다.

- 공고일자: 2025년 6월 20일  
- 시행일자: 2025년 6월 20일
`;
  const content = view === "terms" ? termsContent : privacyContent;

  return (
    <div className={styles.modalOverlay}>
      <div className={styles.modalContent}>
        <h2 className={styles.modalTitle}>
          {view === "terms" ? "이용 약관" : "개인정보 처리방침"}
        </h2>
        <div className={styles.modalScrollbox}>
          <ReactMarkdown>{content}</ReactMarkdown>
        </div>
        <div className={styles.modalFooter}>
          <button onClick={onClose}>확인</button>
        </div>
      </div>
    </div>
  );
};

export default TermsAndPrivacyModal;
