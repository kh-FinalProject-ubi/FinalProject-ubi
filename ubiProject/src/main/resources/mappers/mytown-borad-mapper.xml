<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.project.board.model.mapper.MytownBoardMapper">
	
	
	<!-- 로그인된 회원과 동일한 시군구의 회원이 작성한 게시글 목록 조회 -->
<select id="selectLocalBoardList" resultType="Board">
SELECT 
    B.BOARD_NO,
    B.BOARD_TITLE,
    B.BOARD_CONTENT,
    B.BOARD_DATE,
    B.READ_COUNT AS BOARD_READ_COUNT,
    B.POST_TYPE,
    M.MEMBER_NICKNAME,
    M.REGION_DISTRICT,
    M.REGION_CITY
FROM BOARD B
JOIN MEMBER M ON B.MEMBER_NO = M.MEMBER_NO
WHERE B.BOARD_TYPE = 3
  AND M.REGION_DISTRICT = #{regionDistrict}
  AND M.REGION_CITY = #{regionCity}
  AND B.BOARD_DEL_FL = 'N'
ORDER BY B.BOARD_DATE DESC
</select>

	

</mapper>
